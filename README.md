# miniCFM: a miniature, lightweight version of the **Community Firn Model (CFM)**

miniCFM is a small version of the Community Firn Model. It is designed to simulate transient firn density and temperature in a limited (fixed) number of layers. This makes it appropriate for coupling to an ice sheet model as a surface boundary condtion.

Documentation is presently sparse, but the main script (miniCFM.py) is reasonably well commented.

In general: 

- The model needs an initial condition and surface boundary conditions (forcings). Initial conditions can be generated by miniCFM for a given set of forcings through a spin up routine, or it can be initialized using a restart file (a restart is a 'snapshot' of the model state at some time step). If the model is spun up, a restart file is saved at the end of the spin up.

- The forcings can come from one of several formats, but it may take a little bit of custom coding to format an input file to what miniCFM takes for forcings, which is a dictionary with specific keys (see miniCFM.py for examples).

- You need to make sure that whatever restart file you are using matches (i.e., was generated by) the forcing you are using. Future work will do something like making consistent filename patterns between the forcings and restarts to ensure consistency. But, for now the user is tasked with making sure they match. If this was not clear, an example: you could generate a restart using climate from Summit, Greenland, and use that for a simulation of firn at DYE-2, Greenland using DYE-2 forcing. Don't do that! In this example, use the DYE-2 forcing to make a new restart specific to DYE-2

- Alternatively, you could create your own restart using observational data.

Suggestions and improvements are welcome, via pull requests or issues. This is a work in progress and should be considered as beta software. 

Questions should be directed to C. Max Stevens (christopher.d.stevens-1@nasa.gov)

Funding for this project comes from NASA.
